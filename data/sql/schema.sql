CREATE TABLE of_artcategories_translation (artcategory_id BIGINT, name VARCHAR(255) DEFAULT 'Nazwa kategorii' NOT NULL, description TEXT NOT NULL, is_lang_active TINYINT(1) DEFAULT '1' NOT NULL, lang CHAR(2), slug VARCHAR(255), UNIQUE INDEX artcategories_slug_idx (slug, lang, name), PRIMARY KEY(artcategory_id, lang)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE of_artcategories (artcategory_id BIGINT AUTO_INCREMENT, tree_key VARCHAR(255), is_public TINYINT(1) DEFAULT '1' NOT NULL, is_deletable TINYINT(1) DEFAULT '1' NOT NULL, is_editable TINYINT(1) DEFAULT '1' NOT NULL, meta_id BIGINT, record_key VARCHAR(255), gallery_id BIGINT NOT NULL, root_id BIGINT, lft INT, rgt INT, level SMALLINT, INDEX meta_id_idx (meta_id), INDEX gallery_id_idx (gallery_id), PRIMARY KEY(artcategory_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE of_article_2_tag (article_id BIGINT, tag_id BIGINT, PRIMARY KEY(article_id, tag_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE of_article_custom_field (id BIGINT AUTO_INCREMENT, name VARCHAR(255) NOT NULL, type VARCHAR(255) NOT NULL, record_key VARCHAR(255), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE of_article_custom_field_values (article_id BIGINT, field_id BIGINT, value TEXT NOT NULL, PRIMARY KEY(article_id, field_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE of_article_custom_field_2_artcategories (artcategory_id BIGINT, field_id BIGINT, PRIMARY KEY(artcategory_id, field_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE of_article_file (article_id BIGINT, file_id BIGINT, PRIMARY KEY(article_id, file_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE of_article_gallery (article_id BIGINT, gallery_id BIGINT, PRIMARY KEY(article_id, gallery_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE of_articles_translation (article_id BIGINT, title VARCHAR(255) DEFAULT 'Nazwa/Tytuł' NOT NULL, content TEXT NOT NULL, is_lang_active TINYINT(1) DEFAULT '1' NOT NULL, lang CHAR(2), slug VARCHAR(255), UNIQUE INDEX of_articles_translation_sluggable_idx (slug, lang, title), PRIMARY KEY(article_id, lang)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE of_articles (article_id BIGINT AUTO_INCREMENT, author_id BIGINT, artcategory_id BIGINT NOT NULL, is_public TINYINT(1) DEFAULT '1' NOT NULL, is_deletable TINYINT(1) DEFAULT '1' NOT NULL, is_editable TINYINT(1) DEFAULT '1' NOT NULL, meta_id BIGINT, record_key VARCHAR(255), created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX artcategory_id_idx (artcategory_id), INDEX author_id_idx (author_id), INDEX meta_id_idx (meta_id), PRIMARY KEY(article_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE of_articles_2_art_categories (article_id BIGINT, artcategory_id BIGINT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(article_id, artcategory_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE of_articles_2_articles (article_1_id BIGINT, article_2_id BIGINT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(article_1_id, article_2_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE of_articles_version_translation (article_version_id BIGINT, title VARCHAR(255) DEFAULT 'Nazwa/Tytuł' NOT NULL, content TEXT NOT NULL, is_lang_active TINYINT(1) DEFAULT '1' NOT NULL, lang CHAR(2), slug VARCHAR(255), UNIQUE INDEX of_articles_version_translation_sluggable_idx (slug, lang, title), PRIMARY KEY(article_version_id, lang)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE of_articles_version (article_version_id BIGINT AUTO_INCREMENT, article_id BIGINT NOT NULL, author_id BIGINT, artcategory_id BIGINT NOT NULL, is_active TINYINT(1) DEFAULT '0' NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX article_id_idx (article_id), PRIMARY KEY(article_version_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE of_category (id BIGINT AUTO_INCREMENT, name VARCHAR(255) DEFAULT 'Nazwa kategorii' NOT NULL, is_public TINYINT(1) DEFAULT '1' NOT NULL, meta_id BIGINT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, root_id BIGINT, lft INT, rgt INT, level SMALLINT, slug VARCHAR(255), UNIQUE INDEX of_category_sluggable_idx (slug), INDEX meta_id_idx (meta_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE of_comment_article (comment_id BIGINT, article_id BIGINT, PRIMARY KEY(comment_id, article_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE of_comment_gallery (comment_id BIGINT, gallery_id BIGINT, PRIMARY KEY(comment_id, gallery_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE of_comments (comment_id BIGINT AUTO_INCREMENT, title VARCHAR(255) NOT NULL, content TEXT NOT NULL, author VARCHAR(255) NOT NULL, email VARCHAR(255), created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(comment_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE of_company (id BIGINT AUTO_INCREMENT, profile_id BIGINT, gallery_id BIGINT, meta_id BIGINT, name VARCHAR(255) NOT NULL, description TEXT, city VARCHAR(255) NOT NULL, post_code VARCHAR(255) NOT NULL, street VARCHAR(255) NOT NULL, state VARCHAR(255) DEFAULT '' NOT NULL, maps TEXT NOT NULL, nip VARCHAR(255) NOT NULL, phone VARCHAR(255) NOT NULL, mobile VARCHAR(255), fax VARCHAR(255), www VARCHAR(255), email_address VARCHAR(255), gg VARCHAR(255), skype VARCHAR(255), packet BIGINT DEFAULT 2 NOT NULL, rent_from DATETIME, rent_to DATETIME, is_paid TINYINT(1) DEFAULT '0' NOT NULL, is_active TINYINT(1) DEFAULT '0' NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, slug VARCHAR(255), UNIQUE INDEX of_company_sluggable_idx (slug), INDEX gallery_id_idx (gallery_id), INDEX meta_id_idx (meta_id), INDEX profile_id_idx (profile_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE of_company_2_category (company_id BIGINT, category_id BIGINT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(company_id, category_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE of_company_2_type (company_id BIGINT, type_id BIGINT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(company_id, type_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE of_contact_translation (contact_id BIGINT, message_title VARCHAR(255) DEFAULT 'Tytuł e-maila', address TEXT, map_address TEXT, map_localization TEXT, form_email VARCHAR(255) DEFAULT 'Adres e-mail na który mają przychodzić wiadomości', lang CHAR(2), PRIMARY KEY(contact_id, lang)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE of_contact (contact_id BIGINT AUTO_INCREMENT, has_captcha TINYINT(1) DEFAULT '1' NOT NULL, PRIMARY KEY(contact_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE of_contact_queries (query_id BIGINT AUTO_INCREMENT, name VARCHAR(255) DEFAULT 'Nazwa' NOT NULL, email VARCHAR(255) DEFAULT 'Email' NOT NULL, phone VARCHAR(255), query TEXT NOT NULL, file VARCHAR(255), created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(query_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE of_culture (language VARCHAR(255), country VARCHAR(255) NOT NULL, label VARCHAR(255) NOT NULL, is_active TINYINT(1) DEFAULT '0' NOT NULL, is_deleted TINYINT(1) DEFAULT '0' NOT NULL, position BIGINT, UNIQUE INDEX of_culture_position_sortable_idx (position), PRIMARY KEY(language)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE of_currency (currency_id BIGINT AUTO_INCREMENT, name VARCHAR(255) NOT NULL, symbol VARCHAR(15) NOT NULL, language VARCHAR(15) DEFAULT 'pl' NOT NULL, is_active TINYINT(1) DEFAULT '1' NOT NULL, is_default TINYINT(1) DEFAULT '0' NOT NULL, rate FLOAT(18, 2) DEFAULT 0 NOT NULL, PRIMARY KEY(currency_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE of_email (id BIGINT AUTO_INCREMENT, email VARCHAR(255) NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE of_files_translation (file_id BIGINT, name VARCHAR(255) DEFAULT 'Nazwa pliku lub katalogu' NOT NULL, description TEXT NOT NULL, is_lang_active TINYINT(1) DEFAULT '1' NOT NULL, lang CHAR(2), slug VARCHAR(255), UNIQUE INDEX files_slug_idx (slug, lang, name), PRIMARY KEY(file_id, lang)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE of_files (file_id BIGINT AUTO_INCREMENT, file TEXT, is_active TINYINT(1) DEFAULT '1' NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, root_id BIGINT, lft INT, rgt INT, level SMALLINT, PRIMARY KEY(file_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE of_galleries_translation (gallery_id BIGINT, name VARCHAR(255) DEFAULT 'Nazwa galerii' NOT NULL, is_lang_active TINYINT(1) DEFAULT '1' NOT NULL, lang CHAR(2), slug VARCHAR(255), UNIQUE INDEX galleries_slug_idx (slug, lang, name), PRIMARY KEY(gallery_id, lang)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE of_galleries (gallery_id BIGINT AUTO_INCREMENT, meta_id BIGINT, default_picture_id BIGINT UNIQUE, is_deletable TINYINT(1) DEFAULT '1' NOT NULL, is_editable TINYINT(1) DEFAULT '1' NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX meta_id_idx (meta_id), INDEX default_picture_id_idx (default_picture_id), PRIMARY KEY(gallery_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE of_icons (id BIGINT AUTO_INCREMENT, title TEXT NOT NULL, file TEXT, is_active TINYINT(1) DEFAULT '0' NOT NULL, record_key VARCHAR(255), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE of_invoice (id BIGINT AUTO_INCREMENT, sell_by_date DATETIME NOT NULL, invoice_date DATETIME NOT NULL, place_of_issue VARCHAR(255) DEFAULT 'FALSE' NOT NULL, seller VARCHAR(255) DEFAULT 'FALSE' NOT NULL, buyer VARCHAR(255) DEFAULT 'FALSE' NOT NULL, service_name VARCHAR(255) DEFAULT 'FALSE' NOT NULL, net VARCHAR(255) DEFAULT 'FALSE' NOT NULL, gross_value VARCHAR(255) DEFAULT 'FALSE' NOT NULL, vat VARCHAR(255) DEFAULT 'FALSE' NOT NULL, total_price VARCHAR(255) DEFAULT 'FALSE' NOT NULL, vat_rate VARCHAR(255) DEFAULT 'FALSE' NOT NULL, vat_amount VARCHAR(255) DEFAULT 'FALSE' NOT NULL, words VARCHAR(255) DEFAULT 'FALSE' NOT NULL, paid_by_bank_transfer VARCHAR(255) DEFAULT 'FALSE' NOT NULL, exhibited VARCHAR(255) DEFAULT 'FALSE' NOT NULL, received VARCHAR(255) DEFAULT 'FALSE' NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE of_menus (id BIGINT AUTO_INCREMENT, name VARCHAR(255) DEFAULT 'Nazwa linku' NOT NULL, title VARCHAR(255) DEFAULT 'Informacja' NOT NULL, menu_key VARCHAR(255), lang VARCHAR(255), url TEXT NOT NULL, target VARCHAR(50) DEFAULT '_self' NOT NULL, route TEXT NOT NULL, model TEXT NOT NULL, object BIGINT DEFAULT 0 NOT NULL, cssclass VARCHAR(255) DEFAULT 'empty' NOT NULL, user_banner_id BIGINT, is_active TINYINT(1) DEFAULT '1' NOT NULL, root_id BIGINT, lft INT, rgt INT, level SMALLINT, INDEX user_banner_id_idx (user_banner_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE of_message (id BIGINT AUTO_INCREMENT, message VARCHAR(255) DEFAULT '' NOT NULL, description TEXT NOT NULL, name VARCHAR(255) DEFAULT '' NOT NULL, content TEXT NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE of_metas_translation (meta_id BIGINT, generate TINYINT(1) DEFAULT '1' NOT NULL, title VARCHAR(255), description VARCHAR(255), keywords VARCHAR(255), copyright VARCHAR(255), author VARCHAR(255), email VARCHAR(255), distribution VARCHAR(255), rating VARCHAR(255), robots VARCHAR(255), revisitafter VARCHAR(255), expires VARCHAR(255), lang CHAR(2), PRIMARY KEY(meta_id, lang)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE of_metas (meta_id BIGINT AUTO_INCREMENT, is_default TINYINT(1) DEFAULT '0' NOT NULL, PRIMARY KEY(meta_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE of_order_version (id BIGINT, uid VARCHAR(255) NOT NULL, profile_id BIGINT NOT NULL, company_id BIGINT NOT NULL, status_id VARCHAR(255) NOT NULL, note TEXT, invoice_id BIGINT, value_netto BIGINT NOT NULL, value_brutto BIGINT NOT NULL, rent_from DATETIME, rent_to DATETIME, is_paid TINYINT(1) DEFAULT '0' NOT NULL, packet BIGINT DEFAULT 2 NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, version BIGINT, PRIMARY KEY(id, version)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE of_order (id BIGINT AUTO_INCREMENT, uid VARCHAR(255) NOT NULL UNIQUE, profile_id BIGINT NOT NULL, company_id BIGINT NOT NULL, status_id VARCHAR(255) NOT NULL, note TEXT, invoice_id BIGINT, value_netto BIGINT NOT NULL, value_brutto BIGINT NOT NULL, rent_from DATETIME, rent_to DATETIME, is_paid TINYINT(1) DEFAULT '0' NOT NULL, packet BIGINT DEFAULT 2 NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, version BIGINT, INDEX status_id_idx (status_id), INDEX company_id_idx (company_id), INDEX profile_id_idx (profile_id), INDEX invoice_id_idx (invoice_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE of_pictures_translation (picture_id BIGINT, title VARCHAR(255), is_lang_active TINYINT(1) DEFAULT '1' NOT NULL, lang CHAR(2), PRIMARY KEY(picture_id, lang)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE of_pictures (picture_id BIGINT AUTO_INCREMENT, gallery_id BIGINT NOT NULL, erp_zd_zdjecieid BIGINT, file VARCHAR(255), rate_sum BIGINT DEFAULT 0, rate_hits BIGINT DEFAULT 0, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX gallery_id_idx (gallery_id), PRIMARY KEY(picture_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE of_prices (id BIGINT AUTO_INCREMENT, name VARCHAR(255) DEFAULT 'STANDARD' NOT NULL, packet BIGINT DEFAULT 2 NOT NULL, period BIGINT NOT NULL, price_netto BIGINT DEFAULT 0 NOT NULL, price_brutto BIGINT DEFAULT 0 NOT NULL, is_deletable TINYINT(1) DEFAULT '1' NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE of_profile (id BIGINT AUTO_INCREMENT, guard_user_id BIGINT UNIQUE NOT NULL, name VARCHAR(255) NOT NULL, city VARCHAR(255) NOT NULL, post_code VARCHAR(255) NOT NULL, street VARCHAR(255) NOT NULL, state VARCHAR(255) DEFAULT '' NOT NULL, nip VARCHAR(255) NOT NULL, phone VARCHAR(255) DEFAULT '' NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX guard_user_id_idx (guard_user_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE of_search_index (id BIGINT AUTO_INCREMENT, model VARCHAR(255) NOT NULL, model_id BIGINT NOT NULL, keyword VARCHAR(255) NOT NULL, lang VARCHAR(255) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE of_security_index (id BIGINT AUTO_INCREMENT, model VARCHAR(255) NOT NULL, model_id BIGINT NOT NULL, permission_name VARCHAR(255) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE of_slider_banners (slider_banner_id BIGINT AUTO_INCREMENT, slider_id BIGINT NOT NULL, name VARCHAR(255) NOT NULL, link VARCHAR(255), user_banner_id BIGINT, file TEXT, position BIGINT DEFAULT 0 NOT NULL, target VARCHAR(255) DEFAULT '_self' NOT NULL, INDEX user_banner_id_idx (user_banner_id), INDEX slider_id_idx (slider_id), PRIMARY KEY(slider_banner_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE of_sliders (slider_id BIGINT AUTO_INCREMENT, name VARCHAR(255) NOT NULL, is_default TINYINT(1) DEFAULT '0' NOT NULL, width BIGINT NOT NULL, height BIGINT NOT NULL, random TINYINT(1) DEFAULT '0' NOT NULL, PRIMARY KEY(slider_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE of_stats (email_id BIGINT, company_id BIGINT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(email_id, company_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE of_status (id VARCHAR(255), name VARCHAR(255) NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE of_stg_log_user_actions (id BIGINT AUTO_INCREMENT, user VARCHAR(255) DEFAULT 'ERROR_NO_USER_SPECIFIED' NOT NULL, module VARCHAR(255) DEFAULT 'ERROR_NO_MODULE_SPECIFIED' NOT NULL, action VARCHAR(255) DEFAULT 'ERROR_NO_ACTION_SPECIFIED' NOT NULL, params VARCHAR(255) DEFAULT 'NO_PARAMS_SPECIFIED' NOT NULL, sf_format VARCHAR(255) DEFAULT 'NO_SF_FORMAT_SPECIFIED' NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE of_super_config (id BIGINT AUTO_INCREMENT, setting VARCHAR(255) NOT NULL UNIQUE, value VARCHAR(255) DEFAULT 'FALSE' NOT NULL, description TEXT NOT NULL, scope VARCHAR(255) DEFAULT 'OTHER' NOT NULL, is_enabled_for_users TINYINT(1) DEFAULT '0' NOT NULL, is_secret TINYINT(1) DEFAULT '0' NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE of_tag (id BIGINT AUTO_INCREMENT, name VARCHAR(255) NOT NULL, record_key VARCHAR(255), lang VARCHAR(255) DEFAULT 'pl', slug VARCHAR(255), UNIQUE INDEX of_tag_sluggable_idx (slug, lang, name), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE of_themes (id INT AUTO_INCREMENT, name VARCHAR(255) NOT NULL, is_active TINYINT(1) DEFAULT '0' NOT NULL, creation_date DATE, author VARCHAR(255), author_email VARCHAR(255), author_url VARCHAR(255), copyright VARCHAR(255), version VARCHAR(100), description TINYTEXT, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE of_type (id BIGINT AUTO_INCREMENT, name VARCHAR(255) NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE of_user_banners (user_banner_id BIGINT AUTO_INCREMENT, title TEXT NOT NULL, file TEXT, is_active TINYINT(1) DEFAULT '0' NOT NULL, link VARCHAR(255), target VARCHAR(255) DEFAULT '_self' NOT NULL, PRIMARY KEY(user_banner_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE of_user_logos (user_logo_id BIGINT AUTO_INCREMENT, title TEXT NOT NULL, file TEXT, is_active TINYINT(1) DEFAULT '0' NOT NULL, PRIMARY KEY(user_logo_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE of_guard_forgot_password (id BIGINT AUTO_INCREMENT, user_id BIGINT NOT NULL, unique_key VARCHAR(255), expires_at DATETIME NOT NULL, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX user_id_idx (user_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE of_guard_group (id BIGINT AUTO_INCREMENT, name VARCHAR(255) UNIQUE, description TEXT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE of_guard_group_permission (group_id BIGINT, permission_id BIGINT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(group_id, permission_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE of_guard_permission (id BIGINT AUTO_INCREMENT, name VARCHAR(255) UNIQUE, description TEXT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE of_guard_remember_key (id BIGINT AUTO_INCREMENT, user_id BIGINT, remember_key VARCHAR(32), ip_address VARCHAR(50), created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX user_id_idx (user_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE of_guard_user (id BIGINT AUTO_INCREMENT, first_name VARCHAR(255), last_name VARCHAR(255), email_address VARCHAR(255) NOT NULL UNIQUE, username VARCHAR(128) NOT NULL UNIQUE, algorithm VARCHAR(128) DEFAULT 'sha1' NOT NULL, salt VARCHAR(128), password VARCHAR(128), is_active TINYINT(1) DEFAULT '1', is_super_admin TINYINT(1) DEFAULT '0', last_login DATETIME, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, INDEX is_active_idx_idx (is_active), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE of_guard_user_group (user_id BIGINT, group_id BIGINT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(user_id, group_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE of_guard_user_permission (user_id BIGINT, permission_id BIGINT, created_at DATETIME NOT NULL, updated_at DATETIME NOT NULL, PRIMARY KEY(user_id, permission_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
ALTER TABLE of_artcategories_translation ADD CONSTRAINT oaoa_3 FOREIGN KEY (artcategory_id) REFERENCES of_artcategories(artcategory_id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE of_artcategories ADD CONSTRAINT of_artcategories_meta_id_of_metas_meta_id FOREIGN KEY (meta_id) REFERENCES of_metas(meta_id);
ALTER TABLE of_artcategories ADD CONSTRAINT of_artcategories_gallery_id_of_galleries_gallery_id FOREIGN KEY (gallery_id) REFERENCES of_galleries(gallery_id);
ALTER TABLE of_article_2_tag ADD CONSTRAINT of_article_2_tag_tag_id_of_tag_id FOREIGN KEY (tag_id) REFERENCES of_tag(id) ON DELETE CASCADE;
ALTER TABLE of_article_2_tag ADD CONSTRAINT of_article_2_tag_article_id_of_articles_article_id FOREIGN KEY (article_id) REFERENCES of_articles(article_id) ON DELETE CASCADE;
ALTER TABLE of_article_custom_field_values ADD CONSTRAINT ofoi FOREIGN KEY (field_id) REFERENCES of_article_custom_field(id) ON DELETE CASCADE;
ALTER TABLE of_article_custom_field_values ADD CONSTRAINT of_article_custom_field_values_article_id_of_articles_article_id FOREIGN KEY (article_id) REFERENCES of_articles(article_id) ON DELETE CASCADE;
ALTER TABLE of_article_custom_field_2_artcategories ADD CONSTRAINT ofoi_1 FOREIGN KEY (field_id) REFERENCES of_article_custom_field(id) ON DELETE CASCADE;
ALTER TABLE of_article_custom_field_2_artcategories ADD CONSTRAINT oaoa_4 FOREIGN KEY (artcategory_id) REFERENCES of_artcategories(artcategory_id) ON DELETE CASCADE;
ALTER TABLE of_article_file ADD CONSTRAINT of_article_file_file_id_of_files_file_id FOREIGN KEY (file_id) REFERENCES of_files(file_id) ON DELETE CASCADE;
ALTER TABLE of_article_file ADD CONSTRAINT of_article_file_article_id_of_articles_article_id FOREIGN KEY (article_id) REFERENCES of_articles(article_id) ON DELETE CASCADE;
ALTER TABLE of_article_gallery ADD CONSTRAINT of_article_gallery_gallery_id_of_galleries_gallery_id FOREIGN KEY (gallery_id) REFERENCES of_galleries(gallery_id) ON DELETE CASCADE;
ALTER TABLE of_article_gallery ADD CONSTRAINT of_article_gallery_article_id_of_articles_article_id FOREIGN KEY (article_id) REFERENCES of_articles(article_id) ON DELETE CASCADE;
ALTER TABLE of_articles_translation ADD CONSTRAINT of_articles_translation_article_id_of_articles_article_id FOREIGN KEY (article_id) REFERENCES of_articles(article_id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE of_articles ADD CONSTRAINT of_articles_meta_id_of_metas_meta_id FOREIGN KEY (meta_id) REFERENCES of_metas(meta_id);
ALTER TABLE of_articles ADD CONSTRAINT of_articles_author_id_of_guard_user_id FOREIGN KEY (author_id) REFERENCES of_guard_user(id) ON DELETE SET NULL;
ALTER TABLE of_articles ADD CONSTRAINT of_articles_artcategory_id_of_artcategories_artcategory_id FOREIGN KEY (artcategory_id) REFERENCES of_artcategories(artcategory_id) ON DELETE CASCADE;
ALTER TABLE of_articles_2_art_categories ADD CONSTRAINT of_articles_2_art_categories_article_id_of_articles_article_id FOREIGN KEY (article_id) REFERENCES of_articles(article_id) ON DELETE CASCADE;
ALTER TABLE of_articles_2_art_categories ADD CONSTRAINT oaoa_5 FOREIGN KEY (artcategory_id) REFERENCES of_artcategories(artcategory_id) ON DELETE CASCADE;
ALTER TABLE of_articles_2_articles ADD CONSTRAINT of_articles_2_articles_article_2_id_of_articles_article_id FOREIGN KEY (article_2_id) REFERENCES of_articles(article_id) ON DELETE CASCADE;
ALTER TABLE of_articles_2_articles ADD CONSTRAINT of_articles_2_articles_article_1_id_of_articles_article_id FOREIGN KEY (article_1_id) REFERENCES of_articles(article_id) ON DELETE CASCADE;
ALTER TABLE of_articles_version_translation ADD CONSTRAINT oaoa_7 FOREIGN KEY (article_version_id) REFERENCES of_articles_version(article_version_id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE of_articles_version ADD CONSTRAINT of_articles_version_article_id_of_articles_article_id FOREIGN KEY (article_id) REFERENCES of_articles(article_id) ON DELETE CASCADE;
ALTER TABLE of_category ADD CONSTRAINT of_category_meta_id_of_metas_meta_id FOREIGN KEY (meta_id) REFERENCES of_metas(meta_id);
ALTER TABLE of_comment_article ADD CONSTRAINT of_comment_article_comment_id_of_comments_comment_id FOREIGN KEY (comment_id) REFERENCES of_comments(comment_id) ON DELETE CASCADE;
ALTER TABLE of_comment_article ADD CONSTRAINT of_comment_article_article_id_of_articles_article_id FOREIGN KEY (article_id) REFERENCES of_articles(article_id) ON DELETE CASCADE;
ALTER TABLE of_comment_gallery ADD CONSTRAINT of_comment_gallery_gallery_id_of_galleries_gallery_id FOREIGN KEY (gallery_id) REFERENCES of_galleries(gallery_id) ON DELETE CASCADE;
ALTER TABLE of_comment_gallery ADD CONSTRAINT of_comment_gallery_comment_id_of_comments_comment_id FOREIGN KEY (comment_id) REFERENCES of_comments(comment_id) ON DELETE CASCADE;
ALTER TABLE of_company ADD CONSTRAINT of_company_profile_id_of_profile_id FOREIGN KEY (profile_id) REFERENCES of_profile(id) ON DELETE SET NULL;
ALTER TABLE of_company ADD CONSTRAINT of_company_meta_id_of_metas_meta_id FOREIGN KEY (meta_id) REFERENCES of_metas(meta_id);
ALTER TABLE of_company ADD CONSTRAINT of_company_gallery_id_of_galleries_gallery_id FOREIGN KEY (gallery_id) REFERENCES of_galleries(gallery_id) ON DELETE SET NULL;
ALTER TABLE of_company_2_category ADD CONSTRAINT of_company_2_category_company_id_of_company_id FOREIGN KEY (company_id) REFERENCES of_company(id) ON DELETE CASCADE;
ALTER TABLE of_company_2_category ADD CONSTRAINT of_company_2_category_category_id_of_category_id FOREIGN KEY (category_id) REFERENCES of_category(id) ON DELETE CASCADE;
ALTER TABLE of_company_2_type ADD CONSTRAINT of_company_2_type_type_id_of_type_id FOREIGN KEY (type_id) REFERENCES of_type(id) ON DELETE CASCADE;
ALTER TABLE of_company_2_type ADD CONSTRAINT of_company_2_type_company_id_of_company_id FOREIGN KEY (company_id) REFERENCES of_company(id) ON DELETE CASCADE;
ALTER TABLE of_contact_translation ADD CONSTRAINT of_contact_translation_contact_id_of_contact_contact_id FOREIGN KEY (contact_id) REFERENCES of_contact(contact_id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE of_files_translation ADD CONSTRAINT of_files_translation_file_id_of_files_file_id FOREIGN KEY (file_id) REFERENCES of_files(file_id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE of_galleries_translation ADD CONSTRAINT of_galleries_translation_gallery_id_of_galleries_gallery_id FOREIGN KEY (gallery_id) REFERENCES of_galleries(gallery_id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE of_galleries ADD CONSTRAINT of_galleries_meta_id_of_metas_meta_id FOREIGN KEY (meta_id) REFERENCES of_metas(meta_id);
ALTER TABLE of_galleries ADD CONSTRAINT of_galleries_default_picture_id_of_pictures_picture_id FOREIGN KEY (default_picture_id) REFERENCES of_pictures(picture_id) ON DELETE SET NULL;
ALTER TABLE of_menus ADD CONSTRAINT of_menus_user_banner_id_of_user_banners_user_banner_id FOREIGN KEY (user_banner_id) REFERENCES of_user_banners(user_banner_id) ON DELETE SET NULL;
ALTER TABLE of_metas_translation ADD CONSTRAINT of_metas_translation_meta_id_of_metas_meta_id FOREIGN KEY (meta_id) REFERENCES of_metas(meta_id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE of_order_version ADD CONSTRAINT of_order_version_id_of_order_id FOREIGN KEY (id) REFERENCES of_order(id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE of_order ADD CONSTRAINT of_order_status_id_of_status_id FOREIGN KEY (status_id) REFERENCES of_status(id) ON DELETE NO ACTION;
ALTER TABLE of_order ADD CONSTRAINT of_order_profile_id_of_profile_id FOREIGN KEY (profile_id) REFERENCES of_profile(id) ON DELETE NO ACTION;
ALTER TABLE of_order ADD CONSTRAINT of_order_invoice_id_of_invoice_id FOREIGN KEY (invoice_id) REFERENCES of_invoice(id) ON DELETE SET NULL;
ALTER TABLE of_order ADD CONSTRAINT of_order_company_id_of_company_id FOREIGN KEY (company_id) REFERENCES of_company(id) ON DELETE CASCADE;
ALTER TABLE of_pictures_translation ADD CONSTRAINT of_pictures_translation_picture_id_of_pictures_picture_id FOREIGN KEY (picture_id) REFERENCES of_pictures(picture_id) ON UPDATE CASCADE ON DELETE CASCADE;
ALTER TABLE of_pictures ADD CONSTRAINT of_pictures_gallery_id_of_galleries_gallery_id FOREIGN KEY (gallery_id) REFERENCES of_galleries(gallery_id) ON DELETE CASCADE;
ALTER TABLE of_profile ADD CONSTRAINT of_profile_guard_user_id_of_guard_user_id FOREIGN KEY (guard_user_id) REFERENCES of_guard_user(id) ON DELETE CASCADE;
ALTER TABLE of_slider_banners ADD CONSTRAINT of_slider_banners_user_banner_id_of_user_banners_user_banner_id FOREIGN KEY (user_banner_id) REFERENCES of_user_banners(user_banner_id) ON DELETE CASCADE;
ALTER TABLE of_slider_banners ADD CONSTRAINT of_slider_banners_slider_id_of_sliders_slider_id FOREIGN KEY (slider_id) REFERENCES of_sliders(slider_id) ON DELETE CASCADE;
ALTER TABLE of_stats ADD CONSTRAINT of_stats_email_id_of_email_id FOREIGN KEY (email_id) REFERENCES of_email(id) ON DELETE CASCADE;
ALTER TABLE of_stats ADD CONSTRAINT of_stats_company_id_of_company_id FOREIGN KEY (company_id) REFERENCES of_company(id) ON DELETE CASCADE;
ALTER TABLE of_guard_forgot_password ADD CONSTRAINT of_guard_forgot_password_user_id_of_guard_user_id FOREIGN KEY (user_id) REFERENCES of_guard_user(id) ON DELETE CASCADE;
ALTER TABLE of_guard_group_permission ADD CONSTRAINT of_guard_group_permission_permission_id_of_guard_permission_id FOREIGN KEY (permission_id) REFERENCES of_guard_permission(id) ON DELETE CASCADE;
ALTER TABLE of_guard_group_permission ADD CONSTRAINT of_guard_group_permission_group_id_of_guard_group_id FOREIGN KEY (group_id) REFERENCES of_guard_group(id) ON DELETE CASCADE;
ALTER TABLE of_guard_remember_key ADD CONSTRAINT of_guard_remember_key_user_id_of_guard_user_id FOREIGN KEY (user_id) REFERENCES of_guard_user(id) ON DELETE CASCADE;
ALTER TABLE of_guard_user_group ADD CONSTRAINT of_guard_user_group_user_id_of_guard_user_id FOREIGN KEY (user_id) REFERENCES of_guard_user(id) ON DELETE CASCADE;
ALTER TABLE of_guard_user_group ADD CONSTRAINT of_guard_user_group_group_id_of_guard_group_id FOREIGN KEY (group_id) REFERENCES of_guard_group(id) ON DELETE CASCADE;
ALTER TABLE of_guard_user_permission ADD CONSTRAINT of_guard_user_permission_user_id_of_guard_user_id FOREIGN KEY (user_id) REFERENCES of_guard_user(id) ON DELETE CASCADE;
ALTER TABLE of_guard_user_permission ADD CONSTRAINT of_guard_user_permission_permission_id_of_guard_permission_id FOREIGN KEY (permission_id) REFERENCES of_guard_permission(id) ON DELETE CASCADE;
